<%! func StopLightsOpsMetricsTemplate(w io.Writer, d *opsman.Deployment, metricPrefix string, dashboardTitle string) error %>
<%% import "github.com/rsamban/datadog-dashboard-gen/opsman" %%>
{
  "board_title": "<%= dashboardTitle %>",
  "board_bgtype": "board_graph",
  "created": "2016-03-08T15:37:38.683101+00:00",
  "canonical_units": {
    "cents": [
      {
        "scale_factor": 1,
        "plural": "cents",
        "id": 43,
        "short_name": "Â¢",
        "name": "cent"
      }
    ],
    "bytes": [
      {
        "scale_factor": 0.125,
        "plural": "bits",
        "id": 1,
        "short_name": "b",
        "name": "bit"
      },
      {
        "scale_factor": 1,
        "plural": "bytes",
        "id": 2,
        "short_name": "B",
        "name": "byte"
      },
      {
        "scale_factor": 1024,
        "plural": "kibibytes",
        "id": 3,
        "short_name": "KiB",
        "name": "kibibyte"
      },
      {
        "scale_factor": 1048576,
        "plural": "mebibytes",
        "id": 4,
        "short_name": "MiB",
        "name": "mebibyte"
      },
      {
        "scale_factor": 1073741824,
        "plural": "gibibytes",
        "id": 5,
        "short_name": "GiB",
        "name": "gibibyte"
      },
      {
        "scale_factor": 1099511627776,
        "plural": "tebibytes",
        "id": 6,
        "short_name": "TiB",
        "name": "tebibyte"
      },
      {
        "scale_factor": 1125899906842620,
        "plural": "pebibytes",
        "id": 7,
        "short_name": "PiB",
        "name": "pebibyte"
      },
      {
        "scale_factor": 1152921504606850000,
        "plural": "exbibytes",
        "id": 8,
        "short_name": "EiB",
        "name": "exbibyte"
      }
    ],
    "connections": [
      {
        "scale_factor": 1,
        "plural": "connections",
        "id": 18,
        "short_name": "conn",
        "name": "connection"
      }
    ],
    "locks": [
      {
        "scale_factor": 1,
        "plural": "locks",
        "id": 35,
        "short_name": null,
        "name": "lock"
      }
    ],
    "buffers": [
      {
        "scale_factor": 1,
        "plural": "buffers",
        "id": 22,
        "short_name": "buff",
        "name": "buffer"
      }
    ],
    "tables": [
      {
        "scale_factor": 1,
        "plural": "tables",
        "id": 33,
        "short_name": null,
        "name": "table"
      }
    ],
    "errors": [
      {
        "scale_factor": 1,
        "plural": "errors",
        "id": 44,
        "short_name": "err",
        "name": "error"
      }
    ],
    "segments": [
      {
        "scale_factor": 1,
        "plural": "segments",
        "id": 27,
        "short_name": "seg",
        "name": "segment"
      }
    ],
    "misses": [
      {
        "scale_factor": 1,
        "plural": "misses",
        "id": 40,
        "short_name": null,
        "name": "miss"
      }
    ],
    "payloads": [
      {
        "scale_factor": 1,
        "plural": "payloads",
        "id": 30,
        "short_name": null,
        "name": "payload"
      }
    ],
    "percentage": [
      {
        "scale_factor": 1,
        "plural": "percent",
        "id": 17,
        "short_name": "%",
        "name": "percent"
      },
      {
        "scale_factor": 100,
        "plural": "fractions",
        "id": 16,
        "short_name": null,
        "name": "fraction"
      }
    ],
    "files": [
      {
        "scale_factor": 1,
        "plural": "files",
        "id": 21,
        "short_name": null,
        "name": "file"
      }
    ],
    "blocks": [
      {
        "scale_factor": 1,
        "plural": "blocks",
        "id": 25,
        "short_name": "blk",
        "name": "block"
      }
    ],
    "responses": [
      {
        "scale_factor": 1,
        "plural": "responses",
        "id": 28,
        "short_name": "resp",
        "name": "response"
      }
    ],
    "transactions": [
      {
        "scale_factor": 1,
        "plural": "transactions",
        "id": 36,
        "short_name": "tx",
        "name": "transaction"
      }
    ],
    "time": [
      {
        "scale_factor": 0.000001,
        "plural": "microseconds",
        "id": 9,
        "short_name": "us",
        "name": "microsecond"
      },
      {
        "scale_factor": 0.001,
        "plural": "milliseconds",
        "id": 10,
        "short_name": "ms",
        "name": "millisecond"
      },
      {
        "scale_factor": 1,
        "plural": "seconds",
        "id": 11,
        "short_name": "s",
        "name": "second"
      },
      {
        "scale_factor": 60,
        "plural": "minutes",
        "id": 12,
        "short_name": "m",
        "name": "minute"
      },
      {
        "scale_factor": 3600,
        "plural": "hours",
        "id": 13,
        "short_name": "h",
        "name": "hour"
      },
      {
        "scale_factor": 86400,
        "plural": "days",
        "id": 14,
        "short_name": "d",
        "name": "day"
      },
      {
        "scale_factor": 604800,
        "plural": "weeks",
        "id": 15,
        "short_name": "w",
        "name": "week"
      }
    ],
    "processes": [
      {
        "scale_factor": 1,
        "plural": "processes",
        "id": 20,
        "short_name": "proc",
        "name": "process"
      }
    ],
    "rows": [
      {
        "scale_factor": 1,
        "plural": "rows",
        "id": 38,
        "short_name": "row",
        "name": "row"
      }
    ],
    "threads": [
      {
        "scale_factor": 1,
        "plural": "threads",
        "id": 32,
        "short_name": null,
        "name": "thread"
      }
    ],
    "hits": [
      {
        "scale_factor": 1,
        "plural": "hits",
        "id": 39,
        "short_name": "hit",
        "name": "hit"
      }
    ],
    "sectors": [
      {
        "scale_factor": 1,
        "plural": "sectors",
        "id": 24,
        "short_name": null,
        "name": "sector"
      }
    ],
    "dollars": [
      {
        "scale_factor": 1,
        "plural": "dollars",
        "id": 42,
        "short_name": "$",
        "name": "dollar"
      }
    ],
    "evictions": [
      {
        "scale_factor": 1,
        "plural": "evictions",
        "id": 41,
        "short_name": null,
        "name": "eviction"
      }
    ],
    "messages": [
      {
        "scale_factor": 1,
        "plural": "messages",
        "id": 29,
        "short_name": "msg",
        "name": "message"
      }
    ],
    "packets": [
      {
        "scale_factor": 1,
        "plural": "packets",
        "id": 26,
        "short_name": "pkt",
        "name": "packet"
      }
    ],
    "queries": [
      {
        "scale_factor": 1,
        "plural": "queries",
        "id": 37,
        "short_name": null,
        "name": "query"
      }
    ],
    "indices": [
      {
        "scale_factor": 1,
        "plural": "indices",
        "id": 34,
        "short_name": "idx",
        "name": "index"
      }
    ],
    "cores": [
      {
        "scale_factor": 1,
        "plural": "cores",
        "id": 31,
        "short_name": null,
        "name": "core"
      }
    ],
    "requests": [
      {
        "scale_factor": 1,
        "plural": "requests",
        "id": 19,
        "short_name": "req",
        "name": "request"
      }
    ],
    "inodes": [
      {
        "scale_factor": 1,
        "plural": "inodes",
        "id": 23,
        "short_name": null,
        "name": "inode"
      }
    ]
  },
  "original_title": "PCF Stoplights",
  "modified": "2016-03-08T19:16:40.235436+00:00",
  "height": 100,
  "width": "100%",
  "template_variables": [
    {
      "default": "*",
      "prefix": "pcf-env",
      "name": "pcf-env"
    }
  ],
  "templated": true,
  "widgets": [
    {
      "metric": "",
      "custom_unit": "%",
      "query": "( <% for i, uaaJob := range d.UaaJobs { %><% if i == len(d.UaaJobs) - 1 { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= uaaJob %>}.rollup(avg,60))<% } else { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= uaaJob %>}.rollup(avg,60)) + <% } %><% } %>) *<%= 100/len(d.UaaJobs) %>",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "min",
      "title_align": "center",
      "text_align": "center",
      "width": 14,
      "timeframe": "5m",
      "wrapped": true,
      "type": "query_value",
      "tags": [],
      "precision": 0,
      "title_text": "UAA - 5m",
      "padding": 8,
      "x": 12,
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "conditional_formats": [
        {
          "palette": "white_on_red",
          "comparator": "<",
          "invert": false,
          "value": 100,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_green",
          "comparator": ">=",
          "invert": false,
          "value": 100,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "text_align": "center",
        "autoscale": false,
        "custom_unit": "%",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "( <% for i, uaaJob := range d.UaaJobs { %><% if i == len(d.UaaJobs) - 1 { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= uaaJob %>}.rollup(avg,60))<% } else { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= uaaJob %>}.rollup(avg,60)) +<% } %><% } %>) * <%= 100/len(d.UaaJobs) %>",
            "aggregator": "min",
            "conditional_formats": [
              {
                "palette": "white_on_red",
                "comparator": "<",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_green",
                "comparator": ">=",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 19,
      "calc_func": "raw"
    },
    {
      "metric": "",
      "custom_unit": "%",
      "query": "( <% for i, ccJob := range d.CloudControllerJobs { %><% if i == len(d.CloudControllerJobs) - 1 { %> (avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= ccJob %>}.rollup(avg,60))<% } else { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= ccJob %>}.rollup(avg,60)) +\n<% } %><% } %>\n) *<%= 100/len(d.CloudControllerJobs) %>",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "min",
      "title_align": "center",
      "text_align": "center",
      "width": 14,
      "timeframe": "5m",
      "wrapped": true,
      "type": "query_value",
      "tags": [],
      "precision": 0,
      "title_text": "API - 5m",
      "padding": 8,
      "x": 12,
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "conditional_formats": [
        {
          "palette": "white_on_red",
          "comparator": "<",
          "invert": false,
          "value": 100,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_green",
          "comparator": ">=",
          "invert": false,
          "value": 100,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "text_align": "center",
        "autoscale": false,
        "custom_unit": "%",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "( <% for i, ccJob := range d.CloudControllerJobs { %><% if i == len(d.CloudControllerJobs) - 1 { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= ccJob %>}.rollup(avg,60))<% } else { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= ccJob %>}.rollup(avg,60)) +\n<% } %><% } %>\n) *<%= 100/len(d.CloudControllerJobs) %>",
            "aggregator": "min",
            "conditional_formats": [
              {
                "palette": "white_on_red",
                "comparator": "<",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_green",
                "comparator": ">=",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 13,
      "calc_func": "raw"
    },
    {
      "metric": "",
      "custom_unit": "%",
      "query": "( <% for i, routerJob := range d.RouterJobs { %><% if i == len(d.RouterJobs) - 1 { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= routerJob %>}}.rollup(avg,60))<% } else { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= routerJob %>}}.rollup(avg,60)) +<% } %><% } %>) * <%= 100/len(d.RouterJobs) %> ",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "min",
      "title_align": "center",
      "text_align": "center",
      "width": 14,
      "timeframe": "5m",
      "wrapped": true,
      "type": "query_value",
      "tags": [],
      "precision": 0,
      "title_text": "Router - 5m",
      "padding": 8,
      "x": 11.99797530968984,
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "conditional_formats": [
        {
          "palette": "white_on_red",
          "comparator": "<",
          "invert": false,
          "value": 100,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_green",
          "comparator": ">=",
          "invert": false,
          "value": 100,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "text_align": "center",
        "autoscale": false,
        "custom_unit": "%",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "( <% for i, routerJob := range d.RouterJobs { %><% if i == len(d.RouterJobs ) - 1 { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= routerJob %>}.rollup(avg,60))<% } else { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= routerJob %>}.rollup(avg,60)) +<% } %><% } %>) * <%= 100/len(d.RouterJobs) %> ",
            "aggregator": "min",
            "conditional_formats": [
              {
                "palette": "white_on_red",
                "comparator": "<",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_green",
                "comparator": ">=",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 6.9950815836588545,
      "calc_func": "raw"
    },
    {
      "metric": "",
      "custom_unit": "%",
      "query": "( <% for i, uaaJob := range d.UaaJobs { %><% if i == len(d.UaaJobs) - 1 { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= uaaJob %>}.rollup(avg,60))<% } else { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= uaaJob %>}.rollup(avg,60)) +<% } %><% } %>) * <%= 100/len(d.UaaJobs) %>",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "min",
      "title_align": "center",
      "text_align": "center",
      "width": 13,
      "timeframe": "1d",
      "wrapped": true,
      "type": "query_value",
      "tags": [],
      "precision": 0,
      "title_text": "UAA - 24h",
      "padding": 8,
      "x": 26,
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "conditional_formats": [
        {
          "palette": "white_on_yellow",
          "comparator": "<",
          "invert": false,
          "value": 100,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_green",
          "comparator": ">=",
          "invert": false,
          "value": 100,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "text_align": "center",
        "autoscale": false,
        "custom_unit": "%",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "(<% for i, uaaJob := range d.UaaJobs { %><% if i == len(d.UaaJobs) - 1 { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= uaaJob %>}.rollup(avg,60))<% } else { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= uaaJob %>}.rollup(avg,60)) +<% } %><% } %>) * <%= 100/len(d.UaaJobs) %>",
            "aggregator": "min",
            "conditional_formats": [
              {
                "palette": "white_on_yellow",
                "comparator": "<",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_green",
                "comparator": ">=",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 19,
      "calc_func": "raw"
    },
    {
      "metric": "",
      "custom_unit": "%",
      "query": "( <% for i, ccJob := range d.CloudControllerJobs { %><% if i == len(d.CloudControllerJobs ) - 1 { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= ccJob %>}.rollup(avg,60))<% } else { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= ccJob %>}.rollup(avg,60)) +\n<% } %><% } %>\n) *<%= 100/len(d.CloudControllerJobs) %>",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "min",
      "title_align": "center",
      "text_align": "center",
      "width": 13,
      "timeframe": "1d",
      "wrapped": true,
      "type": "query_value",
      "tags": [],
      "precision": 0,
      "title_text": "API - 24h",
      "padding": 8,
      "x": 26,
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "conditional_formats": [
        {
          "palette": "white_on_yellow",
          "comparator": "<",
          "invert": false,
          "value": 100,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_green",
          "comparator": ">=",
          "invert": false,
          "value": 100,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "text_align": "center",
        "autoscale": false,
        "custom_unit": "%",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "( <% for i, ccJob := range d.CloudControllerJobs { %><% if i == len(d.CloudControllerJobs ) - 1 { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= ccJob %>}.rollup(avg,60))<% } else { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= ccJob %>}.rollup(avg,60)) +\n<% } %><% } %>\n) *<%= 100/len(d.CloudControllerJobs) %>",
            "aggregator": "min",
            "conditional_formats": [
              {
                "palette": "white_on_yellow",
                "comparator": "<",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_green",
                "comparator": ">=",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 13,
      "calc_func": "raw"
    },
    {
      "metric": "",
      "custom_unit": "%",
      "query": "( <% for i, routerJob := range d.RouterJobs { %><% if i == len(d.RouterJobs ) - 1 { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= routerJob %>}.rollup(avg,60))<% } else { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= routerJob %>}.rollup(avg,60)) +<% } %><% } %>) * <%= 100/len(d.RouterJobs) %>",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "min",
      "title_align": "center",
      "text_align": "center",
      "width": 13,
      "timeframe": "1d",
      "wrapped": true,
      "type": "query_value",
      "tags": [],
      "precision": 0,
      "title_text": "Router - 24h",
      "padding": 8,
      "x": 26,
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "conditional_formats": [
        {
          "palette": "white_on_yellow",
          "comparator": "<",
          "invert": false,
          "value": 100,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_green",
          "comparator": ">=",
          "invert": false,
          "value": 100,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "text_align": "center",
        "autoscale": false,
        "custom_unit": "%",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "( <% for i, routerJob := range d.RouterJobs { %><% if i == len(d.RouterJobs ) - 1 { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= routerJob %>}.rollup(avg,60))<% } else { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= routerJob %>}.rollup(avg,60)) +<% } %><% } %>) * <%= 100/len(d.RouterJobs) %>",
            "aggregator": "min",
            "conditional_formats": [
              {
                "palette": "white_on_yellow",
                "comparator": "<",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_green",
                "comparator": ">=",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 7,
      "calc_func": "raw"
    },
    {
      "title_size": 13,
      "title": true,
      "title_align": "left",
      "title_text": "Min. Avail. Memory by Cell - 1h",
      "height": 12,
      "tile_def": {
        "viz": "heatmap",
        "requests": [
          {
            "q": "(min:jmx.org.cloudfoundry.opentsdb.nozzle.rep.capacity_remaining_memory{$pcf-env,deployment:cf}by{ip})/0.000001024",
            "conditional_formats": []
          }
        ],
        "events": [
          {
            "q": "tags:deployment:cf started deploying diego to cf"
          }
        ]
      },
      "width": 28,
      "timeframe": "1h",
      "y": 7,
      "x": 75,
      "legend_size": "0",
      "type": "timeseries",
      "legend": false
    },
    {
      "metric": "",
      "custom_unit": null,
      "query": "(min:jmx.org.cloudfoundry.opentsdb.nozzle.rep.capacity_remaining_memory{$pcf-env,deployment:cf} by {ip}) / 0.000001024",
      "text_size": "auto",
      "title_size": 13,
      "title": true,
      "aggregator": "min",
      "title_align": "center",
      "text_align": "center",
      "width": 20,
      "timeframe": "5m",
      "wrapped": true,
      "type": "query_value",
      "tags": [],
      "precision": 2,
      "title_text": "Min. Avail. Memory by Cell - 5m",
      "padding": 8,
      "x": 55,
      "metric_type": "standard",
      "autoscale": true,
      "height": 6,
      "conditional_formats": [
        {
          "palette": "white_on_red",
          "comparator": "<",
          "invert": false,
          "value": 6,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": "<=",
          "invert": false,
          "value": 7.2,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_green",
          "comparator": ">",
          "invert": false,
          "value": 7.2,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "text_align": "center",
        "autoscale": true,
        "custom_unit": null,
        "precision": 2,
        "viz": "query_value",
        "requests": [
          {
            "q": "(min:jmx.org.cloudfoundry.opentsdb.nozzle.rep.capacity_remaining_memory{$pcf-env,deployment:cf} by {ip}) / 0.000001024",
            "aggregator": "min",
            "conditional_formats": [
              {
                "palette": "white_on_red",
                "comparator": "<",
                "invert": false,
                "value": 6,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_yellow",
                "comparator": "<=",
                "invert": false,
                "value": 7.2,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_green",
                "comparator": ">",
                "invert": false,
                "value": 7.2,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 7,
      "calc_func": "raw"
    },
    {
      "metric": "",
      "custom_unit": null,
      "query": "(sum:jmx.org.cloudfoundry.opentsdb.nozzle.rep.capacity_remaining_memory{$pcf-env,deployment:cf} ) / 0.000001024",
      "text_size": "auto",
      "title_size": 13,
      "title": true,
      "aggregator": "avg",
      "title_align": "center",
      "text_align": "center",
      "width": 20,
      "timeframe": "5m",
      "wrapped": true,
      "type": "query_value",
      "tags": [],
      "precision": 2,
      "title_text": "Total Cell Avail. Memory - 5m avg",
      "padding": 8,
      "x": 55,
      "metric_type": "standard",
      "autoscale": true,
      "height": 6,
      "conditional_formats": [
        {
          "palette": "white_on_red",
          "comparator": "<",
          "invert": false,
          "value": 18,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": "<=",
          "invert": false,
          "value": 22,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_green",
          "comparator": ">",
          "invert": false,
          "value": 22,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "text_align": "center",
        "autoscale": true,
        "custom_unit": null,
        "precision": 2,
        "viz": "query_value",
        "requests": [
          {
            "q": "(sum:jmx.org.cloudfoundry.opentsdb.nozzle.rep.capacity_remaining_memory{$pcf-env,deployment:cf} ) / 0.000001024",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "palette": "white_on_red",
                "comparator": "<",
                "invert": false,
                "value": 18,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_yellow",
                "comparator": "<=",
                "invert": false,
                "value": 22,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_green",
                "comparator": ">",
                "invert": false,
                "value": 22,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 16,
      "calc_func": "raw"
    },
    {
      "metric": "",
      "custom_unit": "/s",
      "query": "per_second(sum:jmx.org.cloudfoundry.opentsdb.nozzle.gorouter.requests.cloud_controller{$pcf-env,deployment:cf})",
      "text_size": "auto",
      "title_size": 20,
      "title": true,
      "aggregator": "avg",
      "title_align": "left",
      "text_align": "left",
      "width": 15,
      "timeframe": "5m",
      "wrapped": true,
      "type": "query_value",
      "tags": [],
      "precision": 0,
      "title_text": "API Req/sec - 5min",
      "padding": 8,
      "x": 39,
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "conditional_formats": [
        {
          "palette": "red_on_white",
          "comparator": "<",
          "invert": false,
          "value": 7,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "yellow_on_white",
          "comparator": "<=",
          "invert": false,
          "value": 10,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "green_on_white",
          "comparator": ">",
          "invert": false,
          "value": 10,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "text_align": "left",
        "autoscale": false,
        "custom_unit": "/s",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "per_second(sum:jmx.org.cloudfoundry.opentsdb.nozzle.gorouter.requests.cloud_controller{$pcf-env,deployment:cf})",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "palette": "red_on_white",
                "comparator": "<",
                "invert": false,
                "value": 7,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "yellow_on_white",
                "comparator": "<=",
                "invert": false,
                "value": 10,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "green_on_white",
                "comparator": ">",
                "invert": false,
                "value": 10,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 13,
      "calc_func": "raw"
    },
    {
      "metric": "",
      "custom_unit": "/s",
      "query": "per_second(sum:jmx.org.cloudfoundry.opentsdb.nozzle.gorouter.total_requests{$pcf-env,*})",
      "text_size": "auto",
      "title_size": 20,
      "title": true,
      "aggregator": "avg",
      "title_align": "left",
      "text_align": "left",
      "width": 15,
      "timeframe": "5m",
      "wrapped": true,
      "type": "query_value",
      "tags": [],
      "precision": 0,
      "title_text": "Router Req/sec - 5min",
      "padding": 8,
      "x": 39,
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "conditional_formats": [
        {
          "palette": "red_on_white",
          "comparator": "<",
          "invert": false,
          "value": 25,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "yellow_on_white",
          "comparator": "<=",
          "invert": false,
          "value": 50,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "green_on_white",
          "comparator": ">=",
          "invert": false,
          "value": 50,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "text_align": "left",
        "autoscale": false,
        "custom_unit": "/s",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "per_second(sum:jmx.org.cloudfoundry.opentsdb.nozzle.gorouter.total_requests{$pcf-env,*})",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "palette": "red_on_white",
                "comparator": "<",
                "invert": false,
                "value": 25,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "yellow_on_white",
                "comparator": "<=",
                "invert": false,
                "value": 50,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "green_on_white",
                "comparator": ">=",
                "invert": false,
                "value": 50,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 7,
      "calc_func": "raw"
    },
    {
      "title_size": 13,
      "title": true,
      "title_align": "left",
      "title_text": "Diego Running Tasks and LRPs - 1h",
      "height": 12,
      "tile_def": {
        "viz": "timeseries",
        "requests": [
          {
            "q": "sum:jmx.org.cloudfoundry.opentsdb.nozzle.bbs.tasks_running{$pcf-env,deployment:cf}",
            "conditional_formats": [],
            "type": "line"
          },
          {
            "q": "avg:jmx.org.cloudfoundry.opentsdb.nozzle.bbs.lr_ps_desired{$pcf-env,deployment:cf}",
            "type": "line"
          }
        ],
        "events": [
          {
            "q": "tags:deployment:cf started deploying diego to cf"
          }
        ]
      },
      "width": 28,
      "timeframe": "1h",
      "y": 21,
      "x": 75,
      "legend_size": "0",
      "type": "timeseries",
      "legend": false
    },
    {
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "Router Bad Gateways - 4h",
      "height": 8,
      "tile_def": {
        "viz": "timeseries",
        "requests": [
          {
            "q": "per_second(avg:jmx.org.cloudfoundry.opentsdb.nozzle.gorouter.bad_gateways{$pcf-env,deployment:cf})",
            "aggregator": "avg",
            "conditional_formats": [],
            "type": "line"
          }
        ],
        "events": [
          {
            "q": "tags:deployment:cf_deployment start_deploy"
          }
        ]
      },
      "width": 28,
      "timeframe": "4h",
      "y": 89,
      "x": 26,
      "legend_size": "0",
      "type": "timeseries",
      "legend": false
    },
    {
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "Ephemeral Disk usage (%) - 1h",
      "height": 12,
      "tile_def": {
        "viz": "heatmap",
        "requests": [
          {
            "q": "max:jmx.org.cloudfoundry.system.disk.ephemeral.percent{$pcf-env,deployment:<%= d.Release %>} by {job,index}",
            "conditional_formats": [],
            "type": "line"
          }
        ]
      },
      "width": 24,
      "timeframe": "1h",
      "y": 64,
      "x": 134,
      "legend_size": "0",
      "type": "timeseries",
      "legend": false
    },
    {
      "metric": "jmx.org.cloudfoundry.system.disk.ephemeral.percent",
      "custom_unit": "%",
      "query": "max:jmx.org.cloudfoundry.system.disk.ephemeral.percent{$pcf-env,deployment:<%= d.Release %>}",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "max",
      "title_align": "left",
      "text_align": "center",
      "width": 23,
      "timeframe": "1h",
      "wrapped": true,
      "type": "query_value",
      "tags": [
        "deployment:<%= d.Release %>"
      ],
      "precision": 0,
      "title_text": "Top Ephemeral Disk usage (%) past hour",
      "padding": 8,
      "x": 158,
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "conditional_formats": [
        {
          "palette": "white_on_red",
          "comparator": ">",
          "invert": false,
          "value": 75,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": ">=",
          "invert": false,
          "value": 65,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_green",
          "comparator": "<",
          "invert": false,
          "value": 65,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": true,
      "tile_def": {
        "text_align": "center",
        "autoscale": false,
        "custom_unit": "%",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "max:jmx.org.cloudfoundry.system.disk.ephemeral.percent{$pcf-env,deployment:<%= d.Release %>}",
            "aggregator": "max",
            "conditional_formats": [
              {
                "palette": "white_on_red",
                "comparator": ">",
                "invert": false,
                "value": 75,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_yellow",
                "comparator": ">=",
                "invert": false,
                "value": 65,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_green",
                "comparator": "<",
                "invert": false,
                "value": 65,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "max",
      "y": 50,
      "calc_func": "raw"
    },
    {
      "metric": "jmx.org.cloudfoundry.system.disk.persistent.percent",
      "custom_unit": "%",
      "query": "max:jmx.org.cloudfoundry.system.disk.persistent.percent{$pcf-env,deployment:<%= d.Release %>}",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "max",
      "title_align": "left",
      "text_align": "center",
      "width": 21,
      "timeframe": "1h",
      "wrapped": true,
      "type": "query_value",
      "tags": [
        "deployment:cf"
      ],
      "precision": 0,
      "title_text": "Top Persistent Disk usage (%) past hour",
      "padding": 8,
      "x": 181,
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "conditional_formats": [
        {
          "palette": "white_on_red",
          "comparator": ">",
          "invert": false,
          "value": 85,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": ">=",
          "invert": false,
          "value": 75,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_green",
          "comparator": "<",
          "invert": false,
          "value": 75,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": true,
      "tile_def": {
        "text_align": "center",
        "autoscale": false,
        "custom_unit": "%",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "max:jmx.org.cloudfoundry.system.disk.persistent.percent{$pcf-env,deployment:<%= d.Release %>}",
            "aggregator": "max",
            "conditional_formats": [
              {
                "palette": "white_on_red",
                "comparator": ">",
                "invert": false,
                "value": 85,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_yellow",
                "comparator": ">=",
                "invert": false,
                "value": 75,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_green",
                "comparator": "<",
                "invert": false,
                "value": 75,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "max",
      "y": 50,
      "calc_func": "raw"
    },
    {
      "title_size": 16,
      "title": true,
      "refresh_every": 30000,
      "tick_pos": "50%",
      "title_align": "left",
      "tick_edge": "left",
      "text_align": "center",
      "title_text": "",
      "height": 7,
      "bgcolor": "blue",
      "html": "[PCF Elastic RunTime](/dash/dash/90958)",
      "y": 0,
      "x": 55,
      "font_size": "36",
      "tick": false,
      "type": "note",
      "width": 78,
      "auto_refresh": false
    },
    {
      "title_size": 16,
      "title": true,
      "refresh_every": 30000,
      "tick_pos": "50%",
      "title_align": "left",
      "tick_edge": "left",
      "text_align": "center",
      "title_text": "",
      "height": 6,
      "bgcolor": "white",
      "html": "[API/CC](/dash/dash/90943)",
      "y": 13,
      "x": 0,
      "font_size": "24",
      "tick": false,
      "type": "note",
      "width": 12,
      "auto_refresh": false
    },
    {
      "title_size": 16,
      "title": true,
      "refresh_every": 30000,
      "tick_pos": "50%",
      "title_align": "left",
      "tick_edge": "left",
      "text_align": "center",
      "title_text": "",
      "height": 5.916666666666667,
      "bgcolor": "white",
      "html": "[UAA](/dash/dash/90946)",
      "y": 19,
      "x": 0,
      "font_size": "24",
      "tick": false,
      "type": "note",
      "width": 12,
      "auto_refresh": false
    },
    {
      "title_size": 16,
      "title": true,
      "refresh_every": 30000,
      "tick_pos": "50%",
      "title_align": "left",
      "tick_edge": "left",
      "text_align": "center",
      "title_text": "",
      "height": 6,
      "bgcolor": "white",
      "html": "[Router](/dash/dash/90946)",
      "y": 6.744791666666667,
      "x": -3.9736429998290155e-8,
      "font_size": "24",
      "tick": false,
      "type": "note",
      "width": 12,
      "auto_refresh": false
    },
    {
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "Persistent Disk usage (%) - 1h",
      "height": 12,
      "tile_def": {
        "viz": "heatmap",
        "requests": [
          {
            "q": "max:jmx.org.cloudfoundry.system.disk.persistent.percent{$pcf-env,deployment:<%= d.Release %>} by {job,index}",
            "conditional_formats": [],
            "type": "line"
          }
        ]
      },
      "width": 24,
      "timeframe": "1h",
      "y": 50,
      "x": 134,
      "legend_size": "0",
      "type": "timeseries",
      "legend": false
    },
    {
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "CPU Utilization for ERT (%) - 1h",
      "height": 12,
      "tile_def": {
        "viz": "heatmap",
        "requests": [
          {
            "q": "max:jmx.org.cloudfoundry.system.cpu.user{$pcf-env,deployment:<%= d.Release %>} by {job,index}",
            "style": {
              "palette": "warm"
            },
            "type": "line",
            "conditional_formats": []
          }
        ]
      },
      "width": 24,
      "timeframe": "1h",
      "y": 84,
      "x": 134,
      "legend_size": "0",
      "type": "timeseries",
      "legend": false
    },
    {
      "metric": "",
      "custom_unit": "/5m",
      "query": "(((jmx.org.cloudfoundry.opentsdb.nozzle.bbs.lr_ps_desired{$pcf-env,deployment:cf} - jmx.org.cloudfoundry.opentsdb.nozzle.bbs.lr_ps_running{$pcf-env,deployment:cf}) -jmx.org.cloudfoundry.opentsdb.nozzle.bbs.lr_ps_starting{$pcf-env,deployment:cf}) -jmx.org.cloudfoundry.opentsdb.nozzle.bbs.crashed_actual_lr_ps{$pcf-env,deployment:cf})",
      "text_size": "auto",
      "title_size": 13,
      "title": true,
      "aggregator": "max",
      "title_align": "center",
      "text_align": "center",
      "width": 20,
      "timeframe": "5m",
      "wrapped": true,
      "type": "query_value",
      "tags": [],
      "precision": 0,
      "title_text": "Missing LRPs - 5m max",
      "padding": 8,
      "x": 55,
      "metric_type": "standard",
      "autoscale": false,
      "height": 6,
      "conditional_formats": [
        {
          "palette": "white_on_red",
          "comparator": ">",
          "invert": false,
          "value": 10,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": ">=",
          "invert": false,
          "value": 5,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_green",
          "comparator": "<",
          "invert": false,
          "value": 5,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "text_align": "center",
        "autoscale": false,
        "custom_unit": "/5m",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "(((jmx.org.cloudfoundry.opentsdb.nozzle.bbs.lr_ps_desired{$pcf-env,deployment:cf} - jmx.org.cloudfoundry.opentsdb.nozzle.bbs.lr_ps_running{$pcf-env,deployment:cf}) -jmx.org.cloudfoundry.opentsdb.nozzle.bbs.lr_ps_starting{$pcf-env,deployment:cf}) -jmx.org.cloudfoundry.opentsdb.nozzle.bbs.crashed_actual_lr_ps{$pcf-env,deployment:cf})",
            "aggregator": "max",
            "conditional_formats": [
              {
                "palette": "white_on_red",
                "comparator": ">",
                "invert": false,
                "value": 10,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_yellow",
                "comparator": ">=",
                "invert": false,
                "value": 5,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_green",
                "comparator": "<",
                "invert": false,
                "value": 5,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 25,
      "calc_func": "raw"
    },
    {
      "metric": "jmx.org.cloudfoundry.opentsdb.nozzle.bbs.domain.cf_apps",
      "custom_unit": "/5m",
      "query": "avg:jmx.org.cloudfoundry.opentsdb.nozzle.bbs.domain.cf_apps{$pcf-env,deployment:cf}",
      "text_size": "auto",
      "title_size": 13,
      "title": true,
      "aggregator": "avg",
      "title_align": "center",
      "text_align": "center",
      "width": 20,
      "timeframe": "5m",
      "wrapped": true,
      "type": "query_value",
      "tags": [
        "deployment:cf"
      ],
      "precision": "*",
      "title_text": "Domain 'cf-apps' Freshness - 5m avg",
      "padding": 8,
      "x": 55,
      "metric_type": "standard",
      "autoscale": false,
      "height": 6,
      "conditional_formats": [
        {
          "palette": "white_on_red",
          "comparator": "<",
          "invert": false,
          "value": 0.8,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": "<=",
          "invert": false,
          "value": 0.9,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_green",
          "comparator": ">=",
          "invert": false,
          "value": 0.9,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": true,
      "tile_def": {
        "text_align": "center",
        "autoscale": false,
        "custom_unit": "/5m",
        "precision": "*",
        "viz": "query_value",
        "requests": [
          {
            "q": "avg:jmx.org.cloudfoundry.opentsdb.nozzle.bbs.domain.cf_apps{$pcf-env,deployment:cf}",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "palette": "white_on_red",
                "comparator": "<",
                "invert": false,
                "value": 0.8,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_yellow",
                "comparator": "<=",
                "invert": false,
                "value": 0.9,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_green",
                "comparator": ">=",
                "invert": false,
                "value": 0.9,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 34,
      "calc_func": "raw"
    },
    {
      "metric": "",
      "custom_unit": "s",
      "query": "max:jmx.org.cloudfoundry.opentsdb.nozzle.nsync_bulker.desired_lrp_sync_duration{$pcf-env,deployment:cf}/1000000000\n",
      "text_size": "auto",
      "title_size": 13,
      "title": true,
      "aggregator": "max",
      "title_align": "center",
      "text_align": "center",
      "width": 19,
      "timeframe": "5m",
      "wrapped": true,
      "type": "query_value",
      "tags": [],
      "precision": 2,
      "title_text": "NSYNC Bulker Time - 5m max",
      "padding": 8,
      "x": 55,
      "metric_type": "standard",
      "autoscale": false,
      "height": 5,
      "conditional_formats": [
        {
          "palette": "white_on_red",
          "comparator": ">",
          "invert": false,
          "value": 15,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": ">=",
          "invert": false,
          "value": 10,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_green",
          "comparator": "<",
          "invert": false,
          "value": 10,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "text_align": "center",
        "autoscale": false,
        "custom_unit": "s",
        "precision": 2,
        "viz": "query_value",
        "requests": [
          {
            "q": "max:jmx.org.cloudfoundry.opentsdb.nozzle.nsync_bulker.desired_lrp_sync_duration{$pcf-env,deployment:cf}/1000000000\n",
            "aggregator": "max",
            "conditional_formats": [
              {
                "palette": "white_on_red",
                "comparator": ">",
                "invert": false,
                "value": 15,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_yellow",
                "comparator": ">=",
                "invert": false,
                "value": 10,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_green",
                "comparator": "<",
                "invert": false,
                "value": 10,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 68,
      "calc_func": "raw"
    },
    {
      "title_size": 13,
      "title": true,
      "title_align": "center",
      "title_text": "ETCD Raft Term",
      "height": 12,
      "tile_def": {
        "viz": "timeseries",
        "requests": [
          {
            "q": "avg:jmx.org.cloudfoundry.opentsdb.nozzle.bbs.etcd_raft_term{$pcf-env,deployment:cf}",
            "conditional_formats": [],
            "type": "line"
          }
        ],
        "events": [
          {
            "q": "tags:deployment:cf started deploying diego to cf"
          }
        ]
      },
      "width": 22,
      "timeframe": "1h",
      "y": 60,
      "x": 92,
      "legend_size": "0",
      "type": "timeseries",
      "legend": false
    },
    {
      "metric": "",
      "custom_unit": "/m",
      "query": "per_minute(avg:jmx.org.cloudfoundry.opentsdb.nozzle.auctioneer.auctioneer_lrp_auctions_failed{$pcf-env,deployment:cf})",
      "text_size": "auto",
      "title_size": 13,
      "title": true,
      "aggregator": "avg",
      "title_align": "center",
      "text_align": "center",
      "width": 18,
      "timeframe": "30m",
      "wrapped": true,
      "legend_size": "0",
      "type": "query_value",
      "tags": [],
      "precision": 1,
      "title_text": "LRP Auction Failures per Minute - 30m avg",
      "padding": 8,
      "x": 115,
      "metric_type": "standard",
      "autoscale": false,
      "height": 6,
      "legend": false,
      "conditional_formats": [
        {
          "palette": "white_on_red",
          "comparator": ">",
          "invert": false,
          "value": 1,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": ">=",
          "invert": false,
          "value": 0.5,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_green",
          "comparator": "<",
          "invert": false,
          "value": 0.5,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "text_align": "center",
        "autoscale": false,
        "custom_unit": "/m",
        "precision": 1,
        "viz": "query_value",
        "requests": [
          {
            "q": "per_minute(avg:jmx.org.cloudfoundry.opentsdb.nozzle.auctioneer.auctioneer_lrp_auctions_failed{$pcf-env,deployment:cf})",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "palette": "white_on_red",
                "comparator": ">",
                "invert": false,
                "value": 1,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_yellow",
                "comparator": ">=",
                "invert": false,
                "value": 0.5,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_green",
                "comparator": "<",
                "invert": false,
                "value": 0.5,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 51,
      "calc_func": "raw"
    },
    {
      "metric": "",
      "custom_unit": "/Hr",
      "query": "per_hour(jmx.org.cloudfoundry.opentsdb.nozzle.auctioneer.auctioneer_lrp_auctions_started{$pcf-env,deployment:cf})",
      "text_size": "auto",
      "title_size": 13,
      "title": true,
      "aggregator": "avg",
      "title_align": "center",
      "text_align": "center",
      "width": 18,
      "timeframe": "30m",
      "wrapped": true,
      "type": "query_value",
      "tags": [],
      "precision": 2,
      "title_text": "LRP Auctions per Hour - 30m avg",
      "padding": 8,
      "x": 115,
      "metric_type": "standard",
      "autoscale": false,
      "height": 6,
      "conditional_formats": [
        {
          "palette": "white_on_green",
          "comparator": ">=",
          "invert": false,
          "value": 0,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "text_align": "center",
        "autoscale": false,
        "custom_unit": "/Hr",
        "precision": 2,
        "viz": "query_value",
        "requests": [
          {
            "q": "per_hour(jmx.org.cloudfoundry.opentsdb.nozzle.auctioneer.auctioneer_lrp_auctions_started{$pcf-env,deployment:cf})",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "comparator": ">=",
                "invert": false,
                "value": 0,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 43,
      "calc_func": "raw"
    },
    {
      "metric": "",
      "custom_unit": "s",
      "query": "max:jmx.org.cloudfoundry.opentsdb.nozzle.auctioneer.auctioneer_fetch_states_duration{$pcf-env,deployment:cf}/1000000000",
      "text_size": "auto",
      "title_size": 13,
      "title": true,
      "aggregator": "avg",
      "title_align": "center",
      "text_align": "left",
      "width": 18,
      "timeframe": "30m",
      "wrapped": true,
      "type": "query_value",
      "tags": [],
      "precision": 2,
      "title_text": "Max. Fetch Cell State Times - 30m avg",
      "padding": 8,
      "x": 115,
      "metric_type": "standard",
      "autoscale": false,
      "height": 6,
      "conditional_formats": [
        {
          "palette": "white_on_red",
          "comparator": ">",
          "invert": false,
          "value": 10,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": ">=",
          "invert": false,
          "value": 5,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_green",
          "comparator": "<",
          "invert": false,
          "value": 5,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "text_align": "left",
        "autoscale": false,
        "custom_unit": "s",
        "precision": 2,
        "viz": "query_value",
        "requests": [
          {
            "q": "max:jmx.org.cloudfoundry.opentsdb.nozzle.auctioneer.auctioneer_fetch_states_duration{$pcf-env,deployment:cf}/1000000000",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "palette": "white_on_red",
                "comparator": ">",
                "invert": false,
                "value": 10,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_yellow",
                "comparator": ">=",
                "invert": false,
                "value": 5,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_green",
                "comparator": "<",
                "invert": false,
                "value": 5,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 60,
      "calc_func": "raw"
    },
    {
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "Router CPU (%) -1h",
      "height": 10,
      "tile_def": {
        "viz": "timeseries",
        "requests": [
          {
            "q": "<% for _, routerJob := range d.RouterJobs { %>avg:jmx.org.cloudfoundry.system.cpu.user{$pcf-env,deployment:<%= d.Release %>,job:<%= routerJob %>} +<% } %><% for _, routerJob := range d.RouterJobs { %>avg:jmx.org.cloudfoundry.system.cpu.sys{$pcf-env,deployment:<%= d.Release %>,job:<%= routerJob %>} +<% } %><% for i, routerJob := range d.RouterJobs { %><% if i == len(d.RouterJobs ) - 1 { %>avg:jmx.org.cloudfoundry.system.cpu.wait{$pcf-env,deployment:<%= d.Release %>,job:<%= routerJob %>}<% } else { %>avg:jmx.org.cloudfoundry.system.cpu.wait{$pcf-env,deployment:<%= d.Release %>,job:<%= routerJob %>} +<% } %><% } %>by {index}",
            "aggregator": "avg",
            "conditional_formats": [],
            "type": "area"
          },
          {
          "q": "<% for _, routerJob := range d.RouterJobs { %>avg:jmx.org.cloudfoundry.system.cpu.user{$pcf-env,deployment:<%= d.Release %>,job:<%= routerJob %>} +<% } %><% for _, routerJob := range d.RouterJobs { %>avg:jmx.org.cloudfoundry.system.cpu.sys{$pcf-env,deployment:<%= d.Release %>,job:<%= routerJob %>} +<% } %><% for i, routerJob := range d.RouterJobs { %><% if i == len(d.RouterJobs ) - 1 { %>avg:jmx.org.cloudfoundry.system.cpu.wait{$pcf-env,deployment:<%= d.Release %>,job:<%= routerJob %>}<% } else { %>avg:jmx.org.cloudfoundry.system.cpu.wait{$pcf-env,deployment:<%= d.Release %>,job:<%= routerJob %>} +<% } %><% } %>by {index}",
            "style": {
              "palette": "dog_classic"
            },
            "type": "line"
          }
        ]
      },
      "width": 54,
      "timeframe": "1h",
      "y": 76,
      "x": 0,
      "legend_size": "0",
      "type": "timeseries",
      "legend": false
    },
    {
      "metric": "",
      "custom_unit": "%",
      "query": "( <% for i, diegoBrainJob := range d.DiegoBrainJobs { %><% if i == len(d.DiegoBrainJobs) - 1 { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= diegoBrainJob %>}.rollup(avg,60))<% } else { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= diegoBrainJob %>}.rollup(avg,60)) +<% } %><% } %>) * <%= 100/len(d.DiegoBrainJobs) %>",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "min",
      "title_align": "center",
      "text_align": "center",
      "width": 14,
      "timeframe": "5m",
      "wrapped": true,
      "type": "query_value",
      "tags": [],
      "precision": 0,
      "title_text": "Brain - 5m",
      "padding": 8,
      "x": 134,
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "conditional_formats": [
        {
          "palette": "white_on_red",
          "comparator": "<",
          "invert": false,
          "value": 100,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_green",
          "comparator": ">=",
          "invert": false,
          "value": 100,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "text_align": "center",
        "autoscale": false,
        "custom_unit": "%",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "( <% for i, diegoBrainJob := range d.DiegoBrainJobs { %><% if i == len(d.DiegoBrainJobs) - 1 { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= diegoBrainJob %>}.rollup(avg,60))<% } else { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= diegoBrainJob %>}.rollup(avg,60)) +<% } %><% } %>) * <%= 100/len(d.DiegoBrainJobs) %>",
            "aggregator": "min",
            "conditional_formats": [
              {
                "palette": "white_on_red",
                "comparator": "<",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_green",
                "comparator": ">=",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 7,
      "calc_func": "raw"
    },
    {
      "metric": "",
      "custom_unit": "%",
      "query": "( <% for i, diegoBrainJob := range d.DiegoBrainJobs { %><% if i == len(d.DiegoBrainJobs) - 1 { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= diegoBrainJob %>}.rollup(avg,60))<% } else { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= diegoBrainJob %>}.rollup(avg,60)) +<% } %><% } %>) * <%= 100/len(d.DiegoBrainJobs) %>",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "min",
      "title_align": "center",
      "text_align": "center",
      "width": 10,
      "timeframe": "1d",
      "wrapped": true,
      "type": "query_value",
      "tags": [],
      "precision": 0,
      "title_text": "Brain - 24h",
      "padding": 8,
      "x": 148,
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "conditional_formats": [
        {
          "palette": "white_on_yellow",
          "comparator": "<",
          "invert": false,
          "value": 100,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_green",
          "comparator": ">=",
          "invert": false,
          "value": 100,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "text_align": "center",
        "autoscale": false,
        "custom_unit": "%",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "( <% for i, diegoBrainJob := range d.DiegoBrainJobs { %><% if i == len(d.DiegoBrainJobs) - 1 { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= diegoBrainJob %>}.rollup(avg,60))<% } else { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= diegoBrainJob %>}.rollup(avg,60)) +<% } %><% } %>) * <%= 100/len(d.DiegoBrainJobs) %>",
            "aggregator": "min",
            "conditional_formats": [
              {
                "palette": "white_on_yellow",
                "comparator": "<",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_green",
                "comparator": ">=",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 7,
      "calc_func": "raw"
    },
    {
      "metric": "",
      "custom_unit": "%",
      "query": "( <% for i, diegoBrainJob := range d.DiegoBrainJobs { %><% if i == len(d.DiegoBrainJobs) - 1 { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= diegoBrainJob %>}.rollup(avg,60))<% } else { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= diegoBrainJob %>}.rollup(avg,60)) +<% } %><% } %>) * <%= 100/len(d.DiegoBrainJobs) %>",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "min",
      "title_align": "center",
      "text_align": "center",
      "width": 14,
      "timeframe": "5m",
      "wrapped": true,
      "type": "query_value",
      "tags": [],
      "precision": 0,
      "title_text": "Cell - 5m",
      "padding": 8,
      "x": 134,
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "conditional_formats": [
        {
          "palette": "white_on_red",
          "comparator": "<",
          "invert": false,
          "value": 100,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_green",
          "comparator": ">=",
          "invert": false,
          "value": 100,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "text_align": "center",
        "autoscale": false,
        "custom_unit": "%",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "( <% for i, diegoCellJob := range d.DiegoCellJobs { %><% if i == len(d.DiegoCellJobs) - 1 { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= diegoCellJob %>}.rollup(avg,60)))<% } else { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= diegoCellJob %>}.rollup(avg,60)) +<% } %><% } %>* <%= 100/len(d.DiegoCellJobs) %>",
            "aggregator": "min",
            "conditional_formats": [
              {
                "palette": "white_on_red",
                "comparator": "<",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_green",
                "comparator": ">=",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 13,
      "calc_func": "raw"
    },
    {
      "metric": "",
      "custom_unit": "%",
      "query": "( <% for i, diegoCellJob := range d.DiegoCellJobs { %><% if i == len(d.DiegoCellJobs) - 1 { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= diegoCellJob %>}.rollup(avg,60)))<% } else { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= diegoCellJob %>}.rollup(avg,60)) +<% } %><% } %>* <%= 100/len(d.DiegoCellJobs) %>",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "min",
      "title_align": "center",
      "text_align": "center",
      "width": 10,
      "timeframe": "1d",
      "wrapped": true,
      "type": "query_value",
      "tags": [],
      "precision": 0,
      "title_text": "Cell - 24h",
      "padding": 8,
      "x": 148,
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "conditional_formats": [
        {
          "palette": "white_on_yellow",
          "comparator": "<",
          "invert": false,
          "value": 100,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_green",
          "comparator": ">=",
          "invert": false,
          "value": 100,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "text_align": "center",
        "autoscale": false,
        "custom_unit": "%",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "( <% for i, diegoCellJob := range d.DiegoCellJobs { %><% if i == len(d.DiegoCellJobs) - 1 { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= diegoCellJob %>}.rollup(avg,60)))<% } else { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= diegoCellJob %>}.rollup(avg,60)) +<% } %><% } %>* <%= 100/len(d.DiegoCellJobs) %>",
            "aggregator": "min",
            "conditional_formats": [
              {
                "palette": "white_on_yellow",
                "comparator": "<",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_green",
                "comparator": ">=",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 13,
      "calc_func": "raw"
    },
    {
      "metric": "",
      "custom_unit": "%",
      "query": "( <% for i, diegoDatabaseJob := range d.DiegoDatabaseJobs { %><% if i == len(d.DiegoDatabaseJobs) - 1 { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= diegoDatabaseJob %>}.rollup(avg,60))<% } else { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= diegoDatabaseJob %>}.rollup(avg,60)) +<% } %><% } %>) * <%= 100/len(d.DiegoDatabaseJobs) %>",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "min",
      "title_align": "center",
      "text_align": "center",
      "width": 14,
      "timeframe": "5m",
      "wrapped": true,
      "type": "query_value",
      "tags": [],
      "precision": 0,
      "title_text": "BBS - 5m",
      "padding": 8,
      "x": 134,
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "conditional_formats": [
        {
          "palette": "white_on_red",
          "comparator": "<",
          "invert": false,
          "value": 100,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_green",
          "comparator": ">=",
          "invert": false,
          "value": 100,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "text_align": "center",
        "autoscale": false,
        "custom_unit": "%",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "( <% for i, diegoDatabaseJob := range d.DiegoDatabaseJobs { %><% if i == len(d.DiegoDatabaseJobs) - 1 { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= diegoDatabaseJob %>}.rollup(avg,60))<% } else { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= diegoDatabaseJob %>}.rollup(avg,60)) +<% } %><% } %>) * <%= 100/len(d.DiegoDatabaseJobs) %>",
            "aggregator": "min",
            "conditional_formats": [
              {
                "palette": "white_on_red",
                "comparator": "<",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_green",
                "comparator": ">=",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 19,
      "calc_func": "raw"
    },
    {
      "metric": "",
      "custom_unit": "%",
      "query": "( <% for i, diegoDatabaseJob := range d.DiegoDatabaseJobs { %><% if i == len(d.DiegoDatabaseJobs) - 1 { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= diegoDatabaseJob %>}.rollup(avg,60))<% } else { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= diegoDatabaseJob %>}.rollup(avg,60)) +<% } %><% } %>) * <%= 100/len(d.DiegoDatabaseJobs) %>",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "min",
      "title_align": "center",
      "text_align": "center",
      "width": 10,
      "timeframe": "1d",
      "wrapped": true,
      "type": "query_value",
      "tags": [],
      "precision": 0,
      "title_text": "BBS - 24h",
      "padding": 8,
      "x": 148,
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "conditional_formats": [
        {
          "palette": "white_on_yellow",
          "comparator": "<",
          "invert": false,
          "value": 100,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_green",
          "comparator": ">=",
          "invert": false,
          "value": 100,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "text_align": "center",
        "autoscale": false,
        "custom_unit": "%",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "( <% for i, diegoDatabaseJob := range d.DiegoDatabaseJobs { %><% if i == len(d.DiegoDatabaseJobs) - 1 { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= diegoDatabaseJob %>}.rollup(avg,60))<% } else { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= diegoDatabaseJob %>}.rollup(avg,60)) +<% } %><% } %>) * <%= 100/len(d.DiegoDatabaseJobs) %>",
            "aggregator": "min",
            "conditional_formats": [
              {
                "palette": "white_on_yellow",
                "comparator": "<",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_green",
                "comparator": ">=",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 19,
      "calc_func": "raw"
    },
    {
      "metric": "",
      "custom_unit": null,
      "query": "avg:jmx.org.cloudfoundry.opentsdb.nozzle.bbs.lr_ps_running{$pcf-env,deployment:cf}.rollup(avg,1800) - hour_before(jmx.org.cloudfoundry.opentsdb.nozzle.bbs.lr_ps_running{$pcf-env,deployment:cf}.rollup(avg,1800))",
      "text_size": "auto",
      "title_size": 13,
      "title": true,
      "aggregator": "avg",
      "title_align": "center",
      "text_align": "center",
      "width": 14,
      "timeframe": "1h",
      "wrapped": true,
      "type": "query_value",
      "tags": [],
      "precision": 0,
      "title_text": "Diego Instances â - 1h",
      "padding": 8,
      "x": 119,
      "metric_type": "standard",
      "autoscale": true,
      "height": 5,
      "conditional_formats": [
        {
          "palette": "white_on_yellow",
          "comparator": ">=",
          "invert": false,
          "value": 100,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_green",
          "comparator": ">",
          "invert": false,
          "value": -10,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_red",
          "comparator": "<",
          "invert": false,
          "value": -100,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "text_align": "center",
        "autoscale": true,
        "custom_unit": null,
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "avg:jmx.org.cloudfoundry.opentsdb.nozzle.bbs.lr_ps_running{$pcf-env,deployment:cf}.rollup(avg,1800) - hour_before(jmx.org.cloudfoundry.opentsdb.nozzle.bbs.lr_ps_running{$pcf-env,deployment:cf}.rollup(avg,1800))",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "palette": "white_on_yellow",
                "comparator": ">=",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_green",
                "comparator": ">",
                "invert": false,
                "value": -10,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_red",
                "comparator": "<",
                "invert": false,
                "value": -100,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 21,
      "calc_func": "raw"
    },
    {
      "metric": "",
      "custom_unit": null,
      "query": "avg:jmx.org.cloudfoundry.opentsdb.nozzle.bbs.lr_ps_desired{$pcf-env,deployment:cf}.rollup(avg,1800) - hour_before(jmx.org.cloudfoundry.opentsdb.nozzle.bbs.lr_ps_desired{$pcf-env,deployment:cf}.rollup(avg,1800))",
      "text_size": "auto",
      "title_size": 13,
      "title": true,
      "aggregator": "avg",
      "title_align": "center",
      "text_align": "center",
      "width": 15,
      "timeframe": "1h",
      "wrapped": true,
      "type": "query_value",
      "tags": [],
      "precision": 0,
      "title_text": "Diego App â - 1h",
      "padding": 8,
      "x": 103,
      "metric_type": "standard",
      "autoscale": true,
      "height": 5,
      "conditional_formats": [
        {
          "palette": "white_on_yellow",
          "comparator": ">=",
          "invert": false,
          "value": 100,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_green",
          "comparator": ">",
          "invert": false,
          "value": -10,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_red",
          "comparator": "<",
          "invert": false,
          "value": -100,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "text_align": "center",
        "autoscale": true,
        "custom_unit": null,
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "avg:jmx.org.cloudfoundry.opentsdb.nozzle.bbs.lr_ps_desired{$pcf-env,deployment:cf}.rollup(avg,1800) - hour_before(jmx.org.cloudfoundry.opentsdb.nozzle.bbs.lr_ps_desired{$pcf-env,deployment:cf}.rollup(avg,1800))",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "palette": "white_on_yellow",
                "comparator": ">=",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_green",
                "comparator": ">",
                "invert": false,
                "value": -10,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_red",
                "comparator": "<",
                "invert": false,
                "value": -100,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 21,
      "calc_func": "raw"
    },
    {
      "metric": "",
      "custom_unit": null,
      "query": "max:jmx.org.cloudfoundry.opentsdb.nozzle.bbs.request_latency{$pcf-env,deployment:cf} / 1000000000",
      "text_size": "auto",
      "title_size": 13,
      "title": true,
      "aggregator": "avg",
      "title_align": "left",
      "text_align": "center",
      "width": 17,
      "timeframe": "15m",
      "wrapped": true,
      "type": "query_value",
      "tags": [],
      "precision": 2,
      "title_text": "BBS Request Latency",
      "padding": 8,
      "x": 74,
      "metric_type": "standard",
      "autoscale": true,
      "height": 5,
      "conditional_formats": [
        {
          "palette": "white_on_red",
          "comparator": ">",
          "custom_bg_color": null,
          "value": 10,
          "invert": false,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": ">=",
          "custom_bg_color": null,
          "value": 2,
          "invert": false,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_green",
          "comparator": "<",
          "custom_bg_color": null,
          "value": 2,
          "invert": false,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "text_align": "center",
        "autoscale": true,
        "custom_unit": null,
        "precision": 2,
        "viz": "query_value",
        "requests": [
          {
            "q": "max:jmx.org.cloudfoundry.opentsdb.nozzle.bbs.request_latency{$pcf-env,deployment:cf} / 1000000000",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "palette": "white_on_red",
                "comparator": ">",
                "custom_bg_color": null,
                "value": 10,
                "invert": false,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_yellow",
                "comparator": ">=",
                "custom_bg_color": null,
                "value": 2,
                "invert": false,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_green",
                "comparator": "<",
                "custom_bg_color": null,
                "value": 2,
                "invert": false,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 60,
      "calc_func": "raw"
    },
    {
      "metric": "jmx.org.cloudfoundry.opentsdb.nozzle.bbs.etcd_watchers",
      "custom_unit": null,
      "query": "avg:jmx.org.cloudfoundry.opentsdb.nozzle.bbs.etcd_watchers{$pcf-env,deployment:cf}",
      "text_size": "auto",
      "title_size": 13,
      "title": true,
      "aggregator": "avg",
      "title_align": "left",
      "text_align": "center",
      "width": 17,
      "timeframe": "15m",
      "wrapped": true,
      "type": "query_value",
      "tags": [
        "deployment:cf"
      ],
      "precision": 2,
      "title_text": "ETCD Watchers",
      "padding": 8,
      "x": 74,
      "metric_type": "standard",
      "autoscale": true,
      "height": 5,
      "conditional_formats": [
        {
          "palette": "white_on_red",
          "comparator": ">",
          "custom_bg_color": null,
          "value": 4,
          "invert": false,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": ">=",
          "custom_bg_color": null,
          "value": 4,
          "invert": false,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_green",
          "comparator": ">=",
          "custom_bg_color": null,
          "value": 3,
          "invert": false,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": true,
      "tile_def": {
        "text_align": "center",
        "autoscale": true,
        "custom_unit": null,
        "precision": 2,
        "viz": "query_value",
        "requests": [
          {
            "q": "avg:jmx.org.cloudfoundry.opentsdb.nozzle.bbs.etcd_watchers{$pcf-env,deployment:cf}",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "palette": "white_on_red",
                "comparator": ">",
                "custom_bg_color": null,
                "value": 4,
                "invert": false,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_yellow",
                "comparator": ">=",
                "custom_bg_color": null,
                "value": 4,
                "invert": false,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_green",
                "comparator": ">=",
                "custom_bg_color": null,
                "value": 3,
                "invert": false,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 68,
      "calc_func": "raw"
    },
    {
      "metric": "",
      "custom_unit": "s",
      "query": "max:jmx.org.cloudfoundry.opentsdb.nozzle.route_emitter.route_emitter_sync_duration{$pcf-env,deployment:cf}/1000000000\n",
      "text_size": "auto",
      "title_size": 13,
      "title": true,
      "aggregator": "max",
      "title_align": "center",
      "text_align": "center",
      "width": 22,
      "timeframe": "5m",
      "wrapped": true,
      "type": "query_value",
      "tags": [],
      "precision": 2,
      "title_text": "Router Emitter Sync Duration - 5m max",
      "padding": 8,
      "x": 92,
      "metric_type": "standard",
      "autoscale": false,
      "height": 6,
      "conditional_formats": [
        {
          "palette": "white_on_red",
          "comparator": ">",
          "invert": false,
          "value": 20,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": ">=",
          "invert": false,
          "value": 10,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_green",
          "comparator": "<",
          "invert": false,
          "value": 10,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "text_align": "center",
        "autoscale": false,
        "custom_unit": "s",
        "precision": 2,
        "viz": "query_value",
        "requests": [
          {
            "q": "max:jmx.org.cloudfoundry.opentsdb.nozzle.route_emitter.route_emitter_sync_duration{$pcf-env,deployment:cf}/1000000000\n",
            "aggregator": "max",
            "conditional_formats": [
              {
                "palette": "white_on_red",
                "comparator": ">",
                "invert": false,
                "value": 20,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_yellow",
                "comparator": ">=",
                "invert": false,
                "value": 10,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_green",
                "comparator": "<",
                "invert": false,
                "value": 10,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 43,
      "calc_func": "raw"
    },
    {
      "metric": "",
      "custom_unit": "s",
      "query": "max:jmx.org.cloudfoundry.opentsdb.nozzle.bbs.convergence_lrp_duration{$pcf-env,deployment:cf}/1000000000\n",
      "text_size": "auto",
      "title_size": 13,
      "title": true,
      "aggregator": "max",
      "title_align": "center",
      "text_align": "center",
      "width": 22,
      "timeframe": "5m",
      "wrapped": true,
      "type": "query_value",
      "tags": [],
      "precision": 2,
      "title_text": "Convergence LRP Duration - 5m max",
      "padding": 8,
      "x": 92,
      "metric_type": "standard",
      "autoscale": false,
      "height": 6,
      "conditional_formats": [
        {
          "palette": "white_on_red",
          "comparator": ">",
          "invert": false,
          "value": 20,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": ">=",
          "invert": false,
          "value": 10,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_green",
          "comparator": "<",
          "invert": false,
          "value": 10,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "text_align": "center",
        "autoscale": false,
        "custom_unit": "s",
        "precision": 2,
        "viz": "query_value",
        "requests": [
          {
            "q": "max:jmx.org.cloudfoundry.opentsdb.nozzle.bbs.convergence_lrp_duration{$pcf-env,deployment:cf}/1000000000\n",
            "aggregator": "max",
            "conditional_formats": [
              {
                "palette": "white_on_red",
                "comparator": ">",
                "invert": false,
                "value": 20,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_yellow",
                "comparator": ">=",
                "invert": false,
                "value": 10,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_green",
                "comparator": "<",
                "invert": false,
                "value": 10,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 51,
      "calc_func": "raw"
    },
    {
      "metric": "",
      "custom_unit": "s",
      "query": "max:jmx.org.cloudfoundry.opentsdb.nozzle.rep.rep_bulk_sync_duration{$pcf-env,deployment:cf}/1000000000\n",
      "text_size": "auto",
      "title_size": 13,
      "title": true,
      "aggregator": "max",
      "title_align": "left",
      "text_align": "center",
      "width": 19,
      "timeframe": "5m",
      "wrapped": true,
      "type": "query_value",
      "tags": [],
      "precision": 2,
      "title_text": "Rep Bulk Sync Duration - 5m max",
      "padding": 8,
      "x": 55,
      "metric_type": "standard",
      "autoscale": false,
      "height": 5,
      "conditional_formats": [
        {
          "palette": "white_on_red",
          "comparator": ">",
          "custom_bg_color": null,
          "value": 20,
          "invert": false,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": ">=",
          "custom_bg_color": null,
          "value": 10,
          "invert": false,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_green",
          "comparator": "<",
          "custom_bg_color": null,
          "value": 10,
          "invert": false,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "text_align": "center",
        "autoscale": false,
        "custom_unit": "s",
        "precision": 2,
        "viz": "query_value",
        "requests": [
          {
            "q": "max:jmx.org.cloudfoundry.opentsdb.nozzle.rep.rep_bulk_sync_duration{$pcf-env,deployment:cf}/1000000000\n",
            "aggregator": "max",
            "conditional_formats": [
              {
                "palette": "white_on_red",
                "comparator": ">",
                "custom_bg_color": null,
                "value": 20,
                "invert": false,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_yellow",
                "comparator": ">=",
                "custom_bg_color": null,
                "value": 10,
                "invert": false,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_green",
                "comparator": "<",
                "custom_bg_color": null,
                "value": 10,
                "invert": false,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 60,
      "calc_func": "raw"
    },
    {
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "Diego Running AIs - 2D",
      "height": 12,
      "tile_def": {
        "viz": "timeseries",
        "requests": [
          {
            "q": "avg:jmx.org.cloudfoundry.opentsdb.nozzle.bbs.lr_ps_running{$pcf-env,deployment:cf}",
            "conditional_formats": [],
            "type": "line"
          }
        ]
      },
      "width": 30,
      "timeframe": "2d",
      "y": 7,
      "x": 103,
      "legend_size": "0",
      "type": "timeseries",
      "legend": false
    },
    {
      "sizing": "fit",
      "title_size": 16,
      "title": true,
      "url": "http://cdn.gifbay.com/2014/07/oops_as_someone_who_used_to_work_in_a_foundry_this_is_terrifying-144652.gif",
      "margin": "",
      "title_align": "left",
      "title_text": "",
      "height": 27,
      "width": 37,
      "y": 9,
      "x": 164,
      "type": "image"
    },
    {
      "title_size": 16,
      "title": true,
      "color": "#4d4d4d",
      "text": "PCF-Ops",
      "title_align": "left",
      "text_align": "left",
      "title_text": "",
      "height": 8,
      "width": 37,
      "y": 1,
      "x": 164,
      "font_size": "auto",
      "type": "free_text"
    },
    <% if len(d.CloudControllerDatabaseJobs) > 0 { %>
    {
      "metric": "",
      "custom_unit": "%",
      "query": "( <% for i, ccDatabaseJob := range d.CloudControllerDatabaseJobs { %><% if i == len(d.CloudControllerDatabaseJobs) - 1 { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= ccDatabaseJob %>}.rollup(avg,60))<% } else { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= ccDatabaseJob %>}.rollup(avg,60)) +<% } %><% } %>) * <%= 100/len(d.CloudControllerDatabaseJobs) %>",
      "board_id": 52443,
      "title_size": 16,
      "title": true,
      "aggregator": "min",
      "title_align": "center",
      "text_align": "center",
      "width": 14,
      "timeframe": "5m",
      "wrapped": true,
      "type": "query_value",
      "tags": [],
      "precision": 2,
      "title_text": "CCDB",
      "padding": 8,
      "x": 134,
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "conditional_formats": [
        {
          "palette": "white_on_red",
          "comparator": "<",
          "invert": false,
          "value": 100,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_green",
          "comparator": ">=",
          "invert": false,
          "value": 100,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "text_align": "center",
        "autoscale": false,
        "custom_unit": "%",
        "precision": 2,
        "viz": "query_value",
        "requests": [
          {
            "q": "( <% for i, ccDatabaseJob := range d.CloudControllerDatabaseJobs { %><% if i == len(d.CloudControllerDatabaseJobs) - 1 { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= ccDatabaseJob %>}.rollup(avg,60))<% } else { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= ccDatabaseJob %>}.rollup(avg,60)) +<% } %><% } %>) * <%= 100/len(d.CloudControllerDatabaseJobs) %>",
            "aggregator": "min",
            "conditional_formats": [
              {
                "palette": "white_on_red",
                "comparator": "<",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_green",
                "comparator": ">=",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 32,
      "calc_func": "raw"
    },
    <% } %>
    <% if len(d.CloudControllerDatabaseJobs) > 0 { %>
    {
      "metric": "system.load.1",
      "custom_unit": "%",
      "query": "( <% for i, ccDatabaseJob := range d.CloudControllerDatabaseJobs { %><% if i == len(d.CloudControllerDatabaseJobs) - 1 { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= ccDatabaseJob %>}.rollup(avg,60))<% } else { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= ccDatabaseJob %>}.rollup(avg,60)) +<% } %><% } %>) * <%= 100/len(d.CloudControllerDatabaseJobs) %>",
      "board_id": 52443,
      "title_size": 16,
      "title": true,
      "aggregator": "min",
      "title_align": "left",
      "text_align": "left",
      "width": 10,
      "timeframe": "1d",
      "wrapped": true,
      "type": "query_value",
      "tags": [],
      "precision": 2,
      "title_text": "CCDB - 24h",
      "padding": 8,
      "x": 148,
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "conditional_formats": [
        {
          "palette": "white_on_red",
          "comparator": "<",
          "invert": false,
          "value": 100,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_green",
          "comparator": ">=",
          "invert": false,
          "value": 100,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "text_align": "left",
        "autoscale": false,
        "custom_unit": "%",
        "precision": 2,
        "viz": "query_value",
        "requests": [
          {
            "q": "( <% for i, ccDatabaseJob := range d.CloudControllerDatabaseJobs { %><% if i == len(d.CloudControllerDatabaseJobs) - 1 { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= ccDatabaseJob %>}.rollup(avg,60))<% } else { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= ccDatabaseJob %>}.rollup(avg,60)) +<% } %><% } %>) * <%= 100/len(d.CloudControllerDatabaseJobs) %>",
            "aggregator": "min",
            "conditional_formats": [
              {
                "palette": "white_on_red",
                "comparator": "<",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_green",
                "comparator": ">=",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 32,
      "calc_func": "raw"
    },
    <% } %>
    <% if len(d.UaaDatabaseJobs) > 0 { %>
    {
      "metric": "",
      "custom_unit": "%",
      "query": "( <% for i, uaaDatabaseJob := range d.UaaDatabaseJobs { %><% if i == len(d.UaaDatabaseJobs) - 1 { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= uaaDatabaseJob %>}.rollup(avg,60))<% } else { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= uaaDatabaseJob %>}.rollup(avg,60)) +<% } %><% } %>) * <%= 100/len(d.UaaDatabaseJobs) %>",
      "board_id": 52443,
      "title_size": 16,
      "title": true,
      "aggregator": "min",
      "title_align": "center",
      "text_align": "center",
      "width": 14,
      "timeframe": "5m",
      "wrapped": true,
      "type": "query_value",
      "tags": [],
      "precision": 2,
      "title_text": "UAADB",
      "padding": 8,
      "x": 134,
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "conditional_formats": [
        {
          "palette": "white_on_red",
          "comparator": "<",
          "invert": false,
          "value": 1,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_green",
          "comparator": ">=",
          "invert": false,
          "value": 100,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "text_align": "center",
        "autoscale": false,
        "custom_unit": "%",
        "precision": 2,
        "viz": "query_value",
        "requests": [
          {
            "q": "( <% for i, uaaDatabaseJob := range d.UaaDatabaseJobs { %><% if i == len(d.UaaDatabaseJobs) - 1 { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= uaaDatabaseJob %>}.rollup(avg,60))<% } else { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= uaaDatabaseJob %>}.rollup(avg,60)) +<% } %><% } %>) * <%= 100/len(d.UaaDatabaseJobs) %>",
            "aggregator": "min",
            "conditional_formats": [
              {
                "palette": "white_on_red",
                "comparator": "<",
                "invert": false,
                "value": 1,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_green",
                "comparator": ">=",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 38,
      "calc_func": "raw"
    },
    <% } %>
    <% if len(d.UaaDatabaseJobs) > 0 { %>
    {
      "metric": "",
      "custom_unit": "%",
      "query": "( <% for i, uaaDatabaseJob := range d.UaaDatabaseJobs { %><% if i == len(d.UaaDatabaseJobs) - 1 { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= uaaDatabaseJob %>}.rollup(avg,60))<% } else { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= uaaDatabaseJob %>}.rollup(avg,60)) +<% } %><% } %>) * <%= 100/len(d.UaaDatabaseJobs) %>",
      "board_id": 52443,
      "title_size": 16,
      "title": true,
      "aggregator": "min",
      "title_align": "left",
      "text_align": "left",
      "width": 10,
      "timeframe": "1d",
      "wrapped": true,
      "type": "query_value",
      "tags": [],
      "precision": 2,
      "title_text": "UAADB - 24h",
      "padding": 8,
      "x": 148,
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "conditional_formats": [
        {
          "palette": "white_on_red",
          "comparator": "<",
          "invert": false,
          "value": 1,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_green",
          "comparator": ">=",
          "invert": false,
          "value": 100,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "text_align": "left",
        "autoscale": false,
        "custom_unit": "%",
        "precision": 2,
        "viz": "query_value",
        "requests": [
          {
            "q": "( <% for i, uaaDatabaseJob := range d.UaaDatabaseJobs { %><% if i == len(d.UaaDatabaseJobs) - 1 { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= uaaDatabaseJob %>}.rollup(avg,60))<% } else { %>(avg:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>,job:<%= uaaDatabaseJob %>}.rollup(avg,60)) +<% } %><% } %>) * <%= 100/len(d.UaaDatabaseJobs) %>",
            "aggregator": "min",
            "conditional_formats": [
              {
                "palette": "white_on_red",
                "comparator": "<",
                "invert": false,
                "value": 1,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_green",
                "comparator": ">=",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 38,
      "calc_func": "raw"
    },
    <% } %>
    {
      "board_id": 52443,
      "title_size": 16,
      "title": true,
      "color": "#4d4d4d",
      "text": "0 Days Without an Incident",
      "title_align": "left",
      "text_align": "left",
      "title_text": "",
      "height": 3,
      "width": 37,
      "y": 36,
      "x": 164,
      "font_size": "auto",
      "type": "free_text"
    },
    {
      "board_id": 52443,
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "Top Ephemeral Disk % Used Jobs",
      "height": 16,
      "tile_def": {
        "viz": "toplist",
        "requests": [
          {
            "q": "top(max:jmx.org.cloudfoundry.system.disk.ephemeral.percent{$pcf-env,deployment:<%= d.Release %>} by {job}, 10, 'max', 'desc')",
            "style": {
              "palette": "dog_classic"
            },
            "conditional_formats": []
          }
        ]
      },
      "width": 44,
      "timeframe": "1h",
      "y": 56,
      "x": 158,
      "legend_size": "0",
      "type": "toplist",
      "legend": false
    },
    {
      "board_id": 52443,
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "Total Routes",
      "height": 8,
      "tile_def": {
        "viz": "timeseries",
        "requests": [
          {
            "q": "avg:jmx.org.cloudfoundry.opentsdb.nozzle.gorouter.total_routes{$pcf-env,*}",
            "aggregator": "avg",
            "conditional_formats": [],
            "type": "line"
          }
        ]
      },
      "width": 26,
      "timeframe": "2d",
      "y": 89,
      "x": 0,
      "legend_size": "0",
      "type": "timeseries",
      "legend": false
    },
    {
      "board_id": 52443,
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "Full ERT Job Health List Avg - 1h",
      "height": 14,
      "tile_def": {
        "viz": "toplist",
        "requests": [
          {
            "q": "top(min:jmx.org.cloudfoundry.system.healthy{$pcf-env,deployment:<%= d.Release %>} by {job}, 200, 'min', 'asc')",
            "style": {
              "palette": "dog_classic"
            },
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "value": 1,
                "comparator": ">="
              },
              {
                "palette": "white_on_red",
                "value": 1,
                "comparator": "<"
              }
            ]
          }
        ]
      },
      "width": 36,
      "timeframe": "1h",
      "y": 43,
      "x": 55,
      "legend_size": "0",
      "type": "toplist",
      "legend": false
    },
    {
      "board_id": 52443,
      "title_size": 16,
      "title": true,
      "refresh_every": 30000,
      "tick_pos": "50%",
      "title_align": "left",
      "tick_edge": "left",
      "text_align": "center",
      "title_text": "",
      "height": 5,
      "bgcolor": "white",
      "html": "Front End Health & KPIs",
      "y": 2,
      "x": 0,
      "font_size": "18",
      "tick": false,
      "type": "note",
      "width": 54,
      "auto_refresh": false
    },
    {
      "metric": "",
      "custom_unit": null,
      "query": "(max:jmx.org.cloudfoundry.opentsdb.nozzle.bbs.lr_ps_running{$pcf-env,*} + max:cf.collector.hm9000.hm9000.number_of_running_instances{*})",
      "board_id": 52443,
      "title_size": 13,
      "title": true,
      "aggregator": "avg",
      "title_align": "left",
      "text_align": "left",
      "width": 12,
      "timeframe": "5m",
      "wrapped": true,
      "legend_size": "0",
      "type": "query_value",
      "tags": [],
      "precision": 2,
      "title_text": "Diego LRPs",
      "padding": 8,
      "x": 75,
      "metric_type": "standard",
      "autoscale": true,
      "height": 5,
      "legend": false,
      "conditional_formats": [
        {
          "palette": "custom_bg",
          "comparator": ">",
          "invert": false,
          "value": 100,
          "custom_bg_color": "#241db8",
          "custom_fg_color": "white"
        },
        {
          "palette": "white_on_red",
          "comparator": "<",
          "invert": false,
          "value": 100,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "text_align": "left",
        "autoscale": true,
        "custom_unit": null,
        "precision": 2,
        "viz": "query_value",
        "requests": [
          {
            "q": "max:jmx.org.cloudfoundry.opentsdb.nozzle.bbs.lr_ps_running{$pcf-env,*}",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "palette": "custom_bg",
                "comparator": ">",
                "invert": false,
                "value": 100,
                "custom_bg_color": "#241db8",
                "custom_fg_color": "white"
              },
              {
                "palette": "white_on_red",
                "comparator": "<",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 35,
      "calc_func": "raw"
    },
    {
      "board_id": 52443,
      "title_size": 16,
      "title": true,
      "refresh_every": 30000,
      "tick_pos": "50%",
      "title_align": "left",
      "tick_edge": "left",
      "text_align": "center",
      "title_text": "",
      "height": 5,
      "bgcolor": "white",
      "html": "Diego Job Health",
      "y": 2,
      "x": 134,
      "font_size": "18",
      "tick": false,
      "type": "note",
      "width": 24,
      "auto_refresh": false
    },
    {
      "board_id": 52443,
      "title_size": 16,
      "title": true,
      "refresh_every": 30000,
      "tick_pos": "50%",
      "title_align": "left",
      "tick_edge": "left",
      "text_align": "center",
      "title_text": "",
      "height": 5,
      "bgcolor": "white",
      "html": "ERT VM Vitals",
      "y": 45,
      "x": 134,
      "font_size": "18",
      "tick": false,
      "type": "note",
      "width": 68,
      "auto_refresh": false
    },
    {
      "metric": "",
      "custom_unit": null,
      "query": "(((sum:jmx.org.cloudfoundry.opentsdb.nozzle.rep.capacity_total_memory{$pcf-env,deployment:cf}) -(sum:jmx.org.cloudfoundry.opentsdb.nozzle.rep.capacity_remaining_memory{$pcf-env,deployment:cf})) / 0.000001024 ) + (sum:cf.collector.mem_used_bytes{job:dea})",
      "board_id": 52443,
      "title_size": 13,
      "title": true,
      "aggregator": "avg",
      "title_align": "left",
      "text_align": "left",
      "width": 16,
      "timeframe": "5m",
      "wrapped": true,
      "legend_size": "0",
      "type": "query_value",
      "tags": [],
      "precision": 2,
      "title_text": "Diego Cell Mem_Used",
      "padding": 8,
      "x": 87,
      "metric_type": "standard",
      "autoscale": true,
      "height": 5,
      "legend": false,
      "conditional_formats": [
        {
          "palette": "custom_bg",
          "comparator": ">",
          "invert": false,
          "value": 1,
          "custom_bg_color": "#241db8",
          "custom_fg_color": "white"
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "text_align": "left",
        "autoscale": true,
        "custom_unit": null,
        "precision": 2,
        "viz": "query_value",
        "requests": [
          {
            "q": "(((sum:jmx.org.cloudfoundry.opentsdb.nozzle.rep.capacity_total_memory{$pcf-env,deployment:cf})-(sum:jmx.org.cloudfoundry.opentsdb.nozzle.rep.capacity_remaining_memory{$pcf-env,deployment:cf}))/0.000001024)",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "palette": "custom_bg",
                "comparator": ">",
                "invert": false,
                "value": 1,
                "custom_bg_color": "#241db8",
                "custom_fg_color": "white"
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 35,
      "calc_func": "raw"
    },
    {
      "board_id": 52443,
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "Top CPU User % Jobs",
      "height": 16,
      "tile_def": {
        "viz": "toplist",
        "requests": [
          {
            "q": "top(max:jmx.org.cloudfoundry.system.cpu.user{$pcf-env,deployment:<%= d.Release %>} by {job}, 10, 'max', 'desc')",
            "style": {
              "palette": "dog_classic"
            },
            "conditional_formats": []
          }
        ]
      },
      "width": 44,
      "timeframe": "1h",
      "y": 80,
      "x": 158,
      "legend_size": "0",
      "type": "toplist",
      "legend": false
    },
    {
      "metric": "jmx.org.cloudfoundry.system.cpu.user",
      "custom_unit": "%",
      "query": "max:jmx.org.cloudfoundry.system.cpu.user{$pcf-env,deployment:<%= d.Release %>}",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "max",
      "title_align": "left",
      "text_align": "center",
      "width": 22,
      "timeframe": "1h",
      "wrapped": true,
      "type": "query_value",
      "tags": [
        "deployment:<%= d.Release %>"
      ],
      "precision": 2,
      "title_text": "Top CPU User (%) past hour",
      "padding": 8,
      "x": 158,
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "conditional_formats": [
        {
          "palette": "white_on_red",
          "comparator": ">",
          "invert": false,
          "value": 75,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": ">=",
          "invert": false,
          "value": 65,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_green",
          "comparator": "<",
          "invert": false,
          "value": 65,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": true,
      "tile_def": {
        "text_align": "center",
        "autoscale": false,
        "custom_unit": "%",
        "precision": 2,
        "viz": "query_value",
        "requests": [
          {
            "q": "max:jmx.org.cloudfoundry.system.cpu.user{$pcf-env,deployment:<%= d.Release %>}",
            "aggregator": "max",
            "conditional_formats": [
              {
                "palette": "white_on_red",
                "comparator": ">",
                "invert": false,
                "value": 75,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_yellow",
                "comparator": ">=",
                "invert": false,
                "value": 65,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_green",
                "comparator": "<",
                "invert": false,
                "value": 65,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "max",
      "y": 74,
      "calc_func": "raw"
    },
    {
      "board_id": 52443,
      "title_size": 16,
      "title": true,
      "refresh_every": 30000,
      "tick_pos": "50%",
      "title_align": "left",
      "tick_edge": "left",
      "text_align": "center",
      "title_text": "",
      "height": 5,
      "bgcolor": "white",
      "html": "GO Router KPIs",
      "y": 33,
      "x": 0,
      "font_size": "18",
      "tick": false,
      "type": "note",
      "width": 54,
      "auto_refresh": false
    },
    {
      "board_id": 66559,
      "title_size": 16,
      "title": true,
      "title_align": "center",
      "title_text": "Router Latency (ms) 30Mins",
      "height": 20,
      "tile_def": {
        "viz": "timeseries",
        "requests": [<% for i, routerJob := range d.RouterJobs { %><% if i == len(d.RouterJobs) - 1 { %>
          {
            "q": "avg:jmx.org.cloudfoundry.opentsdb.nozzle.gorouter.latency{$pcf-env,deployment:cf,job:<%= routerJob %>}",
            "type": "line"
          }<% } else { %>
          {
            "q": "avg:jmx.org.cloudfoundry.opentsdb.nozzle.gorouter.latency{$pcf-env,deployment:cf,job:<%= routerJob %>}",
            "type": "line"
          },<% } %><% } %>
        ],
        "markers": [
          {
            "dim": "y",
            "type": "error dashed",
            "val": 0,
            "value": "y = 0"
          }
        ]
      },
      "width": 54,
      "timeframe": "30m",
      "y": 39,
      "x": 0,
      "legend_size": "0",
      "type": "timeseries",
      "legend": true
    },
    {
      "board_id": 66559,
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "App Requests /sec past 30min",
      "height": 11,
      "tile_def": {
        "viz": "timeseries",
        "requests": [
          {
            "q": "per_second(avg:jmx.org.cloudfoundry.opentsdb.nozzle.gorouter.total_requests{$pcf-env,deployment:cf})",
            "aggregator": "avg",
            "conditional_formats": [],
            "type": "line"
          }
        ]
      },
      "width": 54,
      "timeframe": "30m",
      "y": 62,
      "x": 0,
      "legend_size": "0",
      "type": "timeseries",
      "legend": false
    }
  ],
  "shared": false,
  "id": 66559,
  "title_edited": false
}
